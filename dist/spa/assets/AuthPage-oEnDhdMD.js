import{Q as u}from"./QInput-n_YeVGyk.js";import{d as v,r as n,X as m,J as i,W as r,Z as y,f as t,H as V,I as d,p}from"./index-tdrjumzD.js";import{Q as _}from"./QForm-CIUvvtWy.js";import{a as b}from"./authStore-D6bZlbHe.js";import"./axios-BNi2ATBN.js";const g={key:0},h={key:1},q=v({__name:"AuthPage",setup(w){const s=b(),a=n(),o=n(),f=async()=>{await s.login({email:o.value,password:a.value})},c=()=>{o.value=null,a.value=null};return(Q,e)=>i(s).isAuthenticated?(d(),m("div",g,[r("h2",null,"Здравствуйте, "+y(i(s).user?.name),1)])):(d(),m("div",h,[e[2]||(e[2]=r("h2",null,"Вход в систему",-1)),t(_,{onSubmit:f,onReset:c,class:"q-gutter-md"},{default:V(()=>[t(u,{filled:"",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),label:"Ваша почта",rules:[l=>l&&l.length>0||"Please type something"]},null,8,["modelValue","rules"]),t(u,{filled:"",type:"password",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value=l),label:"Ваш пароль"},null,8,["modelValue"]),r("div",null,[t(p,{label:"Войти",type:"submit",color:"primary"}),t(p,{label:"Сброс",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]),_:1})]))}});export{q as default};
